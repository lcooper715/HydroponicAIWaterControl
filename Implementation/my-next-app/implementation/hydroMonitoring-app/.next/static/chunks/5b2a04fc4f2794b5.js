(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16988,e=>{"use strict";var t=e.i(43476),r=e.i(70065),n=e.i(29228),i=e.i(55706),o=e.i(85183),a=e.i(93230),l=e.i(34239),c=e.i(31195),s=e.i(71645),u=e.i(74080),d=e.i(88860),h=e.i(7670),p=e.i(48337),m=e.i(13659),f=e.i(73393),y=e.i(51883);function g(){return(g=Object.assign.bind()).apply(null,arguments)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var b={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function j(e){var t,{data:r,iconType:n,inactiveColor:i}=e,o=32/6,a=32/3,l=r.inactive?i:r.color,c=null!=n?n:r.type;if("none"===c)return null;if("plainline"===c)return s.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:null==(t=r.payload)?void 0:t.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===c)return s.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(16,"h").concat(a,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(16,"\n            H").concat(32,"M").concat(2*a,",").concat(16,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(16),className:"recharts-legend-icon"});if("rect"===c)return s.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(s.isValidElement(r.legendIcon)){var u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r);return delete u.legendIcon,s.cloneElement(r.legendIcon,u)}return s.createElement(m.Symbols,{fill:l,cx:16,cy:16,size:32,sizeType:"diameter",type:c})}function O(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:o,iconType:a}=e,l={x:0,y:0,width:32,height:32},c={display:"horizontal"===n?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((t,n)=>{var d=t.formatter||i,m=(0,h.clsx)({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:t.inactive});if("none"===t.type)return null;var y=t.inactive?o:t.color,v=d?d(t.value,t,n):t.value;return s.createElement("li",g({className:m,style:c,key:"legend-item-".concat(n)},(0,f.adaptEventsOfChild)(e,t,n)),s.createElement(p.Surface,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},s.createElement(j,{data:t,iconType:a,inactiveColor:o})),s.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},v))})}var w=e=>{var t=(0,y.resolveDefaultProps)(e,b),{payload:r,layout:n,align:i}=t;return r&&r.length?s.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===n?i:"left"}},s.createElement(O,g({},t,{payload:r}))):null},x=e.i(94395),P=e.i(51587),E=e.i(27241),S=e.i(21307),k=e.i(35709),N=e.i(46710),A=e.i(93882),C=["contextPayload"];function z(){return(z=Object.assign.bind()).apply(null,arguments)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function T(e){return e.value}function W(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,C),n=(0,P.getUniqPayload)(t,e.payloadUniqBy,T),i=L(L({},r),{},{payload:n});return s.isValidElement(e.content)?s.cloneElement(e.content,i):"function"==typeof e.content?s.createElement(e.content,i):s.createElement(w,i)}function K(e){var t=(0,E.useAppDispatch)();return(0,s.useEffect)(()=>{t((0,A.setLegendSettings)(e))},[t,e]),null}function M(e){var t=(0,E.useAppDispatch)();return(0,s.useEffect)(()=>(t((0,A.setLegendSize)(e)),()=>{t((0,A.setLegendSize)({width:0,height:0}))}),[t,e]),null}var R={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function B(e){var t,r=(0,y.resolveDefaultProps)(e,R),n=(0,E.useAppSelector)(S.selectLegendPayload),i=(0,d.useLegendPortal)(),o=(0,N.useMargin)(),{width:a,height:l,wrapperStyle:c,portal:h}=r,[p,m]=(0,k.useElementOffset)([n]),f=(0,N.useChartWidth)(),g=(0,N.useChartHeight)();if(null==f||null==g)return null;var v=f-((null==o?void 0:o.left)||0)-((null==o?void 0:o.right)||0),b=(t=r.layout,"vertical"===t&&(0,x.isNumber)(l)?{height:l}:"horizontal"===t?{width:a||v}:null),j=h?c:L(L({position:"absolute",width:(null==b?void 0:b.width)||a||"auto",height:(null==b?void 0:b.height)||l||"auto"},function(e,t,r,n,i,o){var a,l,{layout:c,align:s,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(a="center"===s&&"vertical"===c?{left:((n||0)-o.width)/2}:"right"===s?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(l="middle"===u?{top:((i||0)-o.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),L(L({},a),l)}(c,r,o,f,g,p)),c),O=null!=h?h:i;if(null==O||null==n)return null;var w=s.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:m},s.createElement(K,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),!h&&s.createElement(M,{width:p.width,height:p.height}),s.createElement(W,z({},r,b,{margin:o,chartWidth:f,chartHeight:g,contextPayload:n})));return(0,u.createPortal)(w,O)}function H({title:e="All water metrics (normalized)",data:s}){let u,d=(u=s,["ph","ec","do","temp","orp"].forEach(e=>{var t;let r,n,i;n=Math.min(...r=(t=u).map(t=>Number(t[e]))),i=Math.max(...r)-n,u=t.map(t=>({...t,[e]:0===i?.5:(Number(t[e])-n)/i}))}),u);return(0,t.jsxs)(r.Card,{className:"min-w-0",children:[(0,t.jsxs)(r.CardHeader,{className:"pb-2",children:[(0,t.jsx)(r.CardTitle,{className:"text-base",children:e}),(0,t.jsx)("div",{className:"text-xs text-slate-500",children:"Each line is normalized 0â†’1 so trends are comparable (not raw units)."})]}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"h-80 w-full min-w-0",children:(0,t.jsx)(c.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(n.LineChart,{data:d,margin:{top:10,right:16,left:0,bottom:0},children:[(0,t.jsx)(o.XAxis,{dataKey:"t"}),(0,t.jsx)(a.YAxis,{domain:[0,1]}),(0,t.jsx)(l.Tooltip,{}),(0,t.jsx)(B,{}),(0,t.jsx)(i.Line,{type:"monotone",dataKey:"ph",dot:!1,strokeWidth:2}),(0,t.jsx)(i.Line,{type:"monotone",dataKey:"ec",dot:!1,strokeWidth:2}),(0,t.jsx)(i.Line,{type:"monotone",dataKey:"do",dot:!1,strokeWidth:2}),(0,t.jsx)(i.Line,{type:"monotone",dataKey:"temp",dot:!1,strokeWidth:2}),(0,t.jsx)(i.Line,{type:"monotone",dataKey:"orp",dot:!1,strokeWidth:2})]})})})})]})}B.displayName="Legend",e.s(["CombinedMetricsChart",()=>H],16988)}]);